{% extends "base.html" %}

{% block title %}Macro Subroutines (24){% endblock %}

{% block content %}
<h2>Built in Variables</h2>
<p>These variables are read-only and cannot be changed by direct assignment.

<dl>
<dt><code>$1</code>, <code>$2</code>, <code>$3</code>, <code>$4</code>, <code>$5</code>, <code>$6</code>, <code>$7</code>, <code>$8</code>, <code>$9</code></dt>
<dt><code>$args[expr]</code></dt>
<dd>Argument information. The first 9 arguments (if there are that many) can be referenced as read-only values using the shorthand form. All arguments can be accessed as values in the <strong>$args</strong> array, using a numeric index starting at 1. The total number of arguments received by a function is given by <strong>$n_args</strong> or <strong>$args[]</strong>.</dd>
<dt><code>$active_pane</code></dt>
<dd>Index of the current pane.</dd>
<dt><code>$auto_indent</code></dt>
<dd>Contains the current preference for auto indent. Can be &quot;off&quot;, &quot;on&quot;, or &quot;smart&quot;.</dd>
<dt><code>$calltip_ID</code></dt>
<dd>Equals the ID of the currently displayed calltip, or 0 if no calltip is being displayed.</dd>
<dt><code>$cursor</code></dt>
<dd>Position of the cursor in the current window.</dd>
<dt><code>$column</code></dt>
<dd>Column number of the cursor position in the current window.</dd>
<dt><code>$display_width</code></dt>
<dd>Width of the current pane in pixels.</dd>
<dt><code>$em_tab_dist</code></dt>
<dd>If tab stop emulation is turned on in the Tab Stops... dialog of the Preferences menu, the value is the distance between emulated tab stops. If tab emulation is turned off, the value is 0.</dd>
<dt><code>$empty_array</code></dt>
<dd>An array with no elements. This can be used to initialize an array to an empty state.</dd>
<dt><code>$file_format</code></dt>
<dd>Current newline format that the file will be saved with. Can be &quot;unix&quot;, &quot;dos&quot; or &quot;macintosh&quot;.</dd>
<dt><code>$file_name</code></dt>
<dd>Name of the file being edited in the current window, stripped of directory component.</dd>
<dt><code>$file_path</code></dt>
<dd>Directory component of file being edited in the current window.</dd>
<dt><code>$font_name</code></dt>
<dd>Contains the current plain text font name.</dd>
<dt><code>$font_name_bold</code></dt>
<dd>Contains the current bold text font name.</dd>
<dt><code>$font_name_bold_italic</code></dt>
<dd>Contains the current bold-italic text font name.</dd>
<dt><code>$font_name_italic</code></dt>
<dd>Contains the current italic text font name.</dd>
<dt><code>$highlight_syntax</code></dt>
<dd>Whether syntax highlighting is turned on.</dd>
<dt><code>$incremental_backup</code></dt>
<dd>Contains 1 if incremental auto saving is on, otherwise 0.</dd>
<dt><code>$incremental_search_line</code></dt>
<dd>Has a value of 1 if the preference is selected to always show the incremental search line, otherwise 0.</dd>
<dt><code>$language_mode</code></dt>
<dd>Name of language mode set in the current window.</dd>
<dt><code>$line</code></dt>
<dd>Line number of the cursor position in the current window.</dd>
<dt><code>$locked</code></dt>
<dd>True if the file has been locked by the user.</dd>
<dt><code>$make_backup_copy</code></dt>
<dd>Has a value of 1 if original file is kept in a backup file on save, otherwise 0.</dd>
<dt><code>$max_font_width</code></dt>
<dd>The maximum font width of all the active styles. Syntax highlighting styles are only considered if syntax highlighting is turned on.</dd>
<dt><code>$min_font_width</code></dt>
<dd>The minimum font width of all the active styles. Syntax highlighting styles are only considered if syntax highlighting is turned on.</dd>
<dt><code>$modified</code></dt>
<dd>True if the file in the current window has been modified and the modifications have not yet been saved.</dd>
<dt><code>$VERSION</code></dt>
<dd>Returns NEdit's version number ('5006' for NEdit 5.6).</dd>
<dt><code>$n_display_lines</code></dt>
<dd>The number of lines visible in the currently active pane.</dd>
<dt><code>$n_panes</code></dt>
<dd>The number of panes in the current window.</dd>
<dt><code>$overtype_mode</code></dt>
<dd>True if in Overtype mode.</dd>
<dt><code>$read_only</code></dt>
<dd>True if the file is read only.</dd>
<dt><code>$selection_start, $selection_end</code></dt>
<dd>Beginning and ending positions of the primary selection in the current window, or -1 if there is no text selected in the current window.</dd>
<dt><code>$selection_left, $selection_right</code></dt>
<dd>Left and right character offsets of the rectangular (primary) selection in the current window, or -1 if there is no selection or it is not rectangular.</dd>
<dt><code>$server_name</code></dt>
<dd>Name of the current NEdit server.</dd>
<dt><code>$show_line_numbers</code></dt>
<dd>Whether line numbers are shown next to the text.</dd>
<dt><code>$show_matching</code></dt>
<dd>Contains the current preference for showing matching pairs, such as &quot;[]&quot; and &quot;{}&quot; pairs. Can be &quot;off&quot;, &quot;delimiter&quot;, or &quot;range&quot;.</dd>
<dt><code>$match_syntax_based</code></dt>
<dd>Whether pair matching should use syntax information, if available.</dd>
<dt><code>$statistics_line</code></dt>
<dd>Has a value of 1 if the statistics line is shown, otherwise 0.</dd>
<dt><code>$sub_sep</code></dt>
<dd>Contains the value of the array sub-script separation string.</dd>
<dt><code>$tab_dist</code></dt>
<dd>The distance between tab stops for a hardware tab character, as set in the Tab Stops... dialog of the Preferences menu.</dd>
<dt><code>$text_length</code></dt>
<dd>The length of the text in the current document.</dd>
<dt><code>$top_line</code></dt>
<dd>The line number of the top line of the currently active pane.</dd>
<dt><code>$use_tabs</code></dt>
<dd>Whether the user is allowing the NEdit to insert tab characters to maintain spacing in tab emulation and rectangular dragging operations. (The setting of the &quot;Use tab characters in padding and emulated tabs&quot; button in the Tab Stops... dialog of the Preferences menu.)</dd>
<dt><code>$wrap_margin</code></dt>
<dd>The right margin in the current window for text wrapping and filling.</dd>
<dt><code>$wrap_text</code></dt>
<dd>The current wrap text mode. Values are &quot;none&quot;, &quot;auto&quot; or &quot;continuous&quot;.</dd>
</dl>

<h2>Built-in Subroutines</h2>

<dl>

<dt><code>append_file( string, filename )</code></dt>
<dd>Appends a string to a named file. Returns 1 on successful write, or 0 if unsuccessful.</dd>
<dt><code>beep()</code></dt>
<dd>Ring the bell.</dd>
<dt><code>calltip( &quot;text_or_key&quot; [, pos [, mode or position_modifier, ...]] )</code></dt>
<dd>
	<p>Pops up a calltip. &lt;pos&gt; is an optional position in the buffer where the tip will be displayed. Passing -1 for &lt;pos&gt; is equivalent to not specifying a position, and it guarantees that the tip will appear on-screen somewhere even if the cursor is not. The upper-left corner of the calltip will appear below where the cursor would appear if it were at this position.</p>
	<p>&lt;mode&gt; is one of &quot;tipText&quot; (default), &quot;tipKey&quot;, or &quot;tagKey&quot;. &quot;tipText&quot; displays the text as-is, &quot;tagKey&quot; uses it as the key to look up a tag, then converts the tag to a calltip, and &quot;tipKey&quot; uses it as the key to look up a calltip, then falls back to &quot;tagKey&quot; behavior if that fails. You'll usually use &quot;tipKey&quot; or &quot;tipText&quot;.</p>
	<p>Finally, you can modify the placement of the calltip relative to the cursor position (or &lt;pos&gt;) with one or more of these optional position modifiers: &quot;center&quot; aligns the center of the calltip with the position. &quot;right&quot; aligns the right edge of the calltip with the position. (&quot;center&quot; and &quot;right&quot; may not both be used.) &quot;above&quot; places the calltip above the position. &quot;strict&quot; does not allow the calltip to move from its position in order to avoid going off-screen or obscuring the cursor.</p>
	<p>Returns the ID of the calltip if it was found and/or displayed correctly, 0 otherwise.</p>
</dd>
<dt><code>clipboard_to_string()</code></dt>
<dd>Returns the contents of the clipboard as a macro string. Returns empty string on error.</dd>
<dt><code>dialog( message, btn_1_label, btn_2_label, ... )</code></dt>
<dd>Pop up a dialog for querying and presenting information to the user. First argument is a string to show in the message area of the dialog. Additional optional arguments represent labels for buttons to appear along the bottom of the dialog. Returns the number of the button pressed (the first button is number 1), or 0 if the user closed the dialog via the window close box.</dd>
<dt><code>filename_dialog( [title[, mode[, defaultPath[, filter[, defaultName]]]]] )</code></dt>
<dd>
	<p>Presents a file selection dialog with the given title to the user that prompts for a new or existing file.</p>
	<p>Options are: <em>title</em> will be the title of the dialog, defaults to &quot;Choose file&quot;. If <em>mode</em> is set to &quot;exist&quot; (default), the &quot;New File Name&quot;TextField of the FSB will be unmanaged. If &quot;new&quot;, the TextField will be managed. <em>defaultPath</em> is the default path to use. Default (or &quot;&quot;) will use the active document's directory. <em>filter</em> is the file glob which determines which files to display. Is set to &quot;*&quot; if filter is &quot;&quot; and by default. <em>defaultName</em> is the default filename that is filled in automatically. (<strong>Note</strong> that the default_filename argument does not work on all Motif implementations.)</p>
	<p>Returns &quot;&quot; if the user cancelled the dialog, otherwise returns the fully-qualified path, including the filename.</p>
</dd>
<dt><code>focus_window( window_name )</code></dt>  
<dd>Sets the window on which subsequent macro commands operate. window_name can be either a fully qualified file name, or a relative filename (which will be completed from NEdit's working directory) or one of &quot;last&quot; for the last window created, or &quot;next&quot; for the next window in the chain from the currently focused window (the first window being the one returned from calling focus_window(&quot;last&quot;). Returns the name of the newly-focused window, or an empty string if the requested window was not found.</dd>
<dt><code>get_character( position )</code></dt>
<dd>Returns the single character at the position indicated by the first argument to the routine from the current window.</dd>
<dt><code>get_range( start, end )</code></dt>
<dd>Returns the text between a starting and ending position from the current window.</dd>
<dt><code>get_selection()</code></dt>
<dd>Returns a string containing the text currently selected by the primary selection either from the current window (no keyword), or from anywhere on the screen (keyword &quot;any&quot;).</dd>
<dt><code>getenv( name )</code></dt>
<dd>Gets the value of an environment variable.</dd>
<dt><code>kill_calltip( [calltip_ID] )</code></dt>
<dd>Kills any calltip that is being displayed in the window in which the macro is running.  If there is no displayed calltip this does nothing.  If a calltip ID is supplied then the calltip is killed only if its ID is calltip_ID.</dd>
<dt><code>length( string )</code></dt>
<dd>Returns the length of a string</dd>
<dt><code>list_dialog( message, text, btn_1_label, btn_2_label, ... )</code></dt>
<dd>Pop up a dialog for prompting the user to choose a line from the given text string. The first argument is a message string to be used as a title for the fixed text describing the list. The second string provides the list data: this is a text string in which list entries are separated by newline characters. Additional optional arguments represent labels for buttons to appear along the bottom of the dialog. Returns the line of text selected by the user as the function value (without any newline separator) or the empty string if none was selected, and number of the button pressed (the first button is number 1), in $list_dialog_button. If the user closes the dialog via the window close box, the function returns the empty string, and $list_dialog_button returns 0.</dd>
<dt><code>max( n1, n2, ... )</code></dt>
<dd>Returns the maximum value of all of its arguments</dd>
<dt><code>min( n1, n2, ... )</code></dt>
<dd>Returns the minimum value of all of its arguments</dd>
<dt><code>read_file( filename )</code></dt>  
<dd>Reads the contents of a text file into a string. On success, returns 1 in $read_status, and the contents of the file as a string in the subroutine return value. On failure, returns the empty string &quot;&quot; and an 0 $read_status.</dd>
<dt><code>replace_in_string( string, search_for, replace_with [, type, &quot;copy&quot;] )</code></dt>
<dd>Replaces all occurrences of a search string in a string with a replacement string. Arguments are 1: string to search in, 2: string to search for, 3: replacement string.  There are two optional arguments.  One is a search type, either &quot;literal&quot;, &quot;case&quot;, &quot;word&quot;, &quot;caseWord&quot;, &quot;regex&quot;, or &quot;regexNoCase&quot;. The default search type is &quot;literal&quot;.  If the optional &quot;copy&quot; argument is specified, a copy of the input string is returned when no replacements were performed.  By default an empty string (&quot;&quot;) will be returned in this case. Returns a new string with all of the replacements done.</dd>
<dt><code>replace_range( start, end, string )</code></dt>
<dd>Replaces all the text between two positions in the current window. If the cursor position is between start and end it will be set to start.</dd>
<dt><code>replace_selection( string )</code></dt>
<dd>Replaces the primary-selection selected text in the current window.</dd>
<dt><code>replace_substring( string, start, end, replace_with )</code></dt>
<dd>Replacing a substring between two positions in a string within another string.</dd>
<dt><code>revert_to_saved()</code></dt>
<dd>Reloads the file, discarding all changes done to the document by the user since the last save.</dd>
<dt><code>search( search_for, start [, search_type, wrap, direction] )</code></dt>
<dd>Searches silently in a window without dialogs, beeps, or changes to the selection. Arguments are: 1: string to search for, 2: starting position. Optional arguments may include the strings: &quot;wrap&quot; to make the search wrap around the beginning or end of the string, &quot;backward&quot; or &quot;forward&quot; to change the search direction (&quot;forward&quot; is the default), &quot;literal&quot;, &quot;case&quot;, &quot;word&quot;, &quot;caseWord&quot;, &quot;regex&quot;, or &quot;regexNoCase&quot; to change the search  type  (default is &quot;literal&quot;). Returns the starting position of the  match, or -1 if nothing matched. Also returns the ending position  of the match in $search_end.</dd>
<dt><code>search_string( string, search_for, start [, search_type, direction] )</code></dt>
<dd>Built-in macro subroutine for searching a string. Arguments are 1: string to search in, 2: string to search for, 3: starting position. Optional arguments may include the strings: &quot;wrap&quot; to make the search wrap around the beginning or end of the string, &quot;backward&quot; or &quot;forward&quot; to change the search direction (&quot;forward&quot; is the default), &quot;literal&quot;, &quot;case&quot;, &quot;word&quot;, &quot;caseWord&quot;, &quot;regex&quot;, or &quot;regexNoCase&quot; to change the search type (default is &quot;literal&quot;). Returns the starting position of the match, or -1 if nothing matched. Also returns the ending position of the match in $search_end.</dd>
<dt><code>select( start, end )</code></dt>
<dd>Selects (with the primary selection) text in the current buffer between a starting and ending position.</dd>
<dt><code>select_rectangle( start, end, left, right )</code></dt>
<dd>Selects a rectangular area of text between a starting and ending position, and confined horizontally to characters displayed between positions &quot;left&quot;, and &quot;right&quot;.</dd>
<dt><code>set_cursor_pos( position )</code></dt>
<dd>Set the cursor position for the current window.</dd>
<dt><code>shell_command( command, input_string )</code></dt>
<dd>Executes a shell command, feeding it input from input_string. On completion, output from the command is returned as the function value, and the command's exit status is returned in the global variable $shell_cmd_status.</dd>
<dt><code>split(string, separation_string [, search_type])</code></dt>
<dd>Splits a string using the separator specified. Optionally the search_type argument can specify how the separation_string is interpreted. The default is &quot;literal&quot;. The returned value is an array with keys beginning at 0.</dd>
<dt><code>string_dialog( message, btn_1_label, btn_2_label, ... )</code></dt>
<dd>Pops up a dialog prompting the user to enter information. The first argument is a string to show in the message area of the dialog. Additional optional arguments represent labels for buttons to appear along the bottom of the dialog. Returns the string entered by the user as the function value, and number of the button pressed (the first button is number 1), in $string_dialog_button. If the user closes the dialog via the window close box, the function returns the empty string, and $string_dialog_button returns 0.</dd>
<dt><code>string_compare(string1, string2 [, consider-case])</code></dt>
<dd>Compare two  strings and return 0 if they are equal, -1 if string1 is less than  string2 or 1 if string1 is greater than string2. The values for the optional consider-case argument is either &quot;case&quot; or &quot;nocase&quot;. The default is to do a case sensitive comparison.</dd>
<dt><code>string_to_clipboard( string )</code></dt>
<dd>Copy the contents of a macro string to the clipboard.</dd>
<dt><code>substring( string, start [, end] )</code></dt>
<dd>Returns the portion of a string between a start and end position (with the position of the beginning of the string being 0).  If end is missing, the position of the end of the string is used. If either of the positions are negative, they are treated as relative to the end of the string.  A position specified either before the start of the string or after the end of the string is repositioned to the nearest valid string position.  If the start position is beyond the end position, the empty string is returned.</dd>
<dt><code>t_print( string1, string2, ... )</code></dt>
<dd>Writes strings to the terminal (stdout) from which NEdit was started.</dd>
<dt><code>tolower( string )</code></dt>
<dd>Return an all lower-case version of string.</dd>
<dt><code>toupper( string )</code></dt>
<dd>Return an all upper-case version of string.</dd>
<dt><code>valid_number( string )</code></dt>
<dd>Returns 1 if the string can be converted to a number without error following the same rules that the implicit conversion would. Otherwise 0.</dd>
<dt><code>write_file( string, filename )</code></dt>
<dd>Writes a string (parameter 1) to a file named in parameter 2. Returns 1 on successful write, or 0 if unsuccessful.</dd>
</dl>

<h2>Deprecated Functions</h2>
<p>Some functions are included only for supporting legacy macros. You should not use any of these functions in any new macro you write. Among these are all action routines with hyphens in their names; use underscores instead ('find-dialog' &#x2192; 'find_dialog').</p>

<dl>
<dt><code>match()</code></dt>
<dd><strong>DEPRECATED</strong> Use select_to_matching() instead.</dd>
</dl>
{% endblock %}

{% block prev %}23.html{% endblock %}
{% block next %}25.html{% endblock %}
